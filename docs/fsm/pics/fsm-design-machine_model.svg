<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="589px" preserveAspectRatio="none" style="width:872px;height:589px;" version="1.1" viewBox="0 0 872 589" width="872px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hbqhsixh9w54" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ac13618b1a974308c1f12eb6c57723dc]
class Event--><rect fill="#FEFECE" filter="url(#f1hbqhsixh9w54)" height="125.7305" id="Event" style="stroke: #A80036; stroke-width: 1.5;" width="320" x="6" y="8"/><ellipse cx="84.25" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M86.7231,30.1431 Q86.1421,30.4419 85.5029,30.5913 Q84.8638,30.7407 84.1582,30.7407 Q81.6514,30.7407 80.3315,29.0889 Q79.0117,27.437 79.0117,24.3159 Q79.0117,21.1865 80.3315,19.5347 Q81.6514,17.8828 84.1582,17.8828 Q84.8638,17.8828 85.5112,18.0322 Q86.1587,18.1816 86.7231,18.4805 L86.7231,21.2031 Q86.0923,20.6221 85.4988,20.3523 Q84.9053,20.0825 84.2744,20.0825 Q82.9297,20.0825 82.2449,21.1492 Q81.5601,22.2158 81.5601,24.3159 Q81.5601,26.4077 82.2449,27.4744 Q82.9297,28.541 84.2744,28.541 Q84.9053,28.541 85.4988,28.2712 Q86.0923,28.0015 86.7231,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="104.75" y="28.5352">Event</text><rect fill="#FFFFFF" height="16.1328" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="122" x="207" y="5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="120" x="208" y="17.6016">E extends Enum&lt;E&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="325" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="48"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="26" y="54.6348">E type;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="60.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="26" y="67.5898">List&lt;Object&gt; parameters;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="325" y1="73.9102" y2="73.9102"/><ellipse cx="17" cy="84.9102" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="26" y="88.5449">Event(@Nonnull E id);</text><ellipse cx="17" cy="97.8652" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="294" x="26" y="101.5">Event(@Nonnull E type, final List&lt;Object&gt; parameters);</text><ellipse cx="17" cy="110.8203" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="26" y="114.4551">E type();</text><ellipse cx="17" cy="123.7754" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="26" y="127.4102">List&lt;Object&gt; parameters();</text><!--MD5=[60d6b92408f98aed8df94d5c6e04aa63]
class State--><rect fill="#FEFECE" filter="url(#f1hbqhsixh9w54)" height="151.6406" id="State" style="stroke: #A80036; stroke-width: 1.5;" width="398" x="336" y="231.5"/><ellipse cx="396.25" cy="247.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M392.6777,243.7651 L392.6777,241.6069 L400.0571,241.6069 L400.0571,243.7651 L397.5918,243.7651 L397.5918,251.8418 L400.0571,251.8418 L400.0571,254 L392.6777,254 L392.6777,251.8418 L395.1431,251.8418 L395.1431,243.7651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="28" x="416.75" y="252.0352">State</text><rect fill="#FFFFFF" height="16.1328" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="239" x="498" y="228.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="109" x="499" y="241.1016">O, S extends Enum</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" text-decoration="line-through" textLength="128" x="608" y="241.1016">, E extends Enum&lt;E&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="337" x2="733" y1="263.5" y2="263.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="337" x2="733" y1="271.5" y2="271.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="342" y="286.1348">S getId();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="342" y="299.0898">boolean hasHistory()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="342" y="312.0449">String name();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="342" y="325">O context();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="342" y="337.9551">boolean isFinal();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="345" y="350.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="386" x="342" y="363.8652">void executeEntryAction(@Nonnull O owner, @Nonnull Event&lt;E&gt; event);</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="378" x="342" y="376.8203">void executeExitAction(@Nonnull O owner, @Nonnull Event&lt;E&gt; event);</text><!--MD5=[050210f0c16b51cfeb6b6da0e5dd6280]
class Transition--><rect fill="#FEFECE" filter="url(#f1hbqhsixh9w54)" height="99.8203" id="Transition" style="stroke: #A80036; stroke-width: 1.5;" width="330" x="370" y="479"/><ellipse cx="385" cy="495" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M381.4277,491.2651 L381.4277,489.1069 L388.8071,489.1069 L388.8071,491.2651 L386.3418,491.2651 L386.3418,499.3418 L388.8071,499.3418 L388.8071,501.5 L381.4277,501.5 L381.4277,499.3418 L383.8931,499.3418 L383.8931,491.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="57" x="399" y="499.5352">Transition</text><rect fill="#FFFFFF" height="16.1328" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="239" x="464" y="476"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="109" x="465" y="488.6016">O, S extends Enum</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" text-decoration="line-through" textLength="128" x="574" y="488.6016">, E extends Enum&lt;E&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="371" x2="699" y1="511" y2="511"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="371" x2="699" y1="519" y2="519"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="376" y="533.6348">State&lt;O, S, E&gt; target();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="376" y="546.5898">State&lt;O, S, E&gt; source();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="376" y="559.5449">E eventId();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="376" y="572.5">BiPredicate&lt;O, Event&lt;E&gt;&gt; guard();</text><!--MD5=[3626c233e602113c8cf5977cfac9c02f]
class StateMachine--><rect fill="#FEFECE" filter="url(#f1hbqhsixh9w54)" height="99.8203" id="StateMachine" style="stroke: #A80036; stroke-width: 1.5;" width="348" x="361" y="21"/><ellipse cx="376" cy="37" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M372.4277,33.2651 L372.4277,31.1069 L379.8071,31.1069 L379.8071,33.2651 L377.3418,33.2651 L377.3418,41.3418 L379.8071,41.3418 L379.8071,43.5 L372.4277,43.5 L372.4277,41.3418 L374.8931,41.3418 L374.8931,33.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="390" y="41.5352">StateMachine</text><rect fill="#FFFFFF" height="16.1328" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="239" x="473" y="18"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="109" x="474" y="30.6016">O, S extends Enum</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" text-decoration="line-through" textLength="128" x="583" y="30.6016">, E extends Enum&lt;E&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="708" y1="53" y2="53"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="708" y1="61" y2="61"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="367" y="75.6348">void fire(@Nonnull Event&lt;E&gt; event);</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="367" y="88.5898">void reset();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="367" y="101.5449">String name();</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="367" y="114.5">O context();</text><!--MD5=[95506b1c3a35118e33887129603a72cf]
reverse link StateMachine to State--><path d="M535,134.34 C535,164.06 535,199.85 535,231.08 " fill="none" id="StateMachine&lt;-State" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="535,121.16,531,127.16,535,133.16,539,127.16,535,121.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="536" y="177.5684">root</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="526.6188" y="220.6817">1</text><!--MD5=[d89baef161dbadae0c803da679be9f9b]
reverse link State to Transition--><path d="M535,395.74 C535,424 535,454.33 535,478.82 " fill="none" id="State&lt;-Transition" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="535,382.51,531,388.51,535,394.51,539,388.51,535,382.51" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="536" y="445.5684">transitions</text><!--MD5=[32651790f572224dfaf28515c1422f7b]
reverse link State to State--><path d="M747.3,285.45 C774.81,289.25 793,296.61 793,307.5 C793,320.06 768.81,327.91 734.04,331.05 " fill="none" id="State&lt;-State" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="734.04,283.95,739.5537,288.5975,745.9643,285.2954,740.4506,280.6479,734.04,283.95" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="799" y="311.5684">substates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="742.1918" y="278.9748">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="742.1875" y="331.4345">0..n</text><!--MD5=[ef969d299a7972ec67b01b9ba8cb1e50]
@startuml
class Event<E extends Enum<E>> {
    - E type;
    - List<Object> parameters;
    + Event(@Nonnull E id);
    + Event(@Nonnull E type, final List<Object> parameters);
    + E type();
    + List<Object> parameters();
}

interface State<O, S extends Enum<S>, E extends Enum<E>> {
    S getId();
    boolean hasHistory()
    String name();
    O context();
    boolean isFinal();

    void executeEntryAction(@Nonnull O owner, @Nonnull Event<E> event);
    void executeExitAction(@Nonnull O owner, @Nonnull Event<E> event);
}

interface Transition<O, S extends Enum<S>, E extends Enum<E>> {
    State<O, S, E> target();
    State<O, S, E> source();
    E eventId();
    BiPredicate<O, Event<E>> guard();
}

interface StateMachine<O, S extends Enum<S>, E extends Enum<E>> {
    void fire(@Nonnull Event<E> event);
    void reset();
    String name();
    O context();
}

StateMachine *- - "1" State : root
State *- - Transition : transitions
State "1" *- - "0..n" State : substates
@enduml

PlantUML version 1.2020.06(Sun Apr 05 14:38:32 CEST 2020)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 19+36-2238
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: CH
--></g></svg>