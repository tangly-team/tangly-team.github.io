<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"><title>C4 and UML Notations</title><meta name="author" content="Marcel Baumann (tangly llc)"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reset.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/white.css" id="theme"><!--This CSS is generated by the Asciidoctor reveal.js converter to further integrate AsciiDoc's existing semantic with reveal.js--><style type="text/css">.reveal div.right {
  float: right
}

/* source blocks */
.reveal .listingblock.stretch > .content {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre > code {
  height: 100%;
  max-height: 100%
}

/* auto-animate feature */
/* hide the scrollbar when auto-animating source blocks */
.reveal pre[data-auto-animate-target] {
  overflow: hidden;
}

.reveal pre[data-auto-animate-target] code {
  overflow: hidden;
}

/* add a min width to avoid horizontal shift on line numbers */
code.hljs .hljs-ln-line.hljs-ln-n {
  min-width: 1.25em;
}

/* tables */
table {
  border-collapse: collapse;
  border-spacing: 0
}

table {
  margin-bottom: 1.25em;
  border: solid 1px #dedede
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
  padding: .5em .625em .625em;
  font-size: inherit;
  text-align: left
}

table tr th, table tr td {
  padding: .5625em .625em;
  font-size: inherit
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
  display: table-cell;
  line-height: 1.6
}

td.tableblock > .content {
  margin-bottom: 1.25em
}

td.tableblock > .content > :last-child {
  margin-bottom: -1.25em
}

table.tableblock, th.tableblock, td.tableblock {
  border: 0 solid #dedede
}

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock {
  border-width: 0 1px 1px 0
}

table.grid-all > tfoot > tr > .tableblock {
  border-width: 1px 1px 0 0
}

table.grid-cols > * > tr > .tableblock {
  border-width: 0 1px 0 0
}

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock {
  border-width: 0 0 1px
}

table.grid-rows > tfoot > tr > .tableblock {
  border-width: 1px 0 0
}

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child {
  border-right-width: 0
}

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock {
  border-bottom-width: 0
}

table.frame-all {
  border-width: 1px
}

table.frame-sides {
  border-width: 0 1px
}

table.frame-topbot, table.frame-ends {
  border-width: 1px 0
}

.reveal table th.halign-left, .reveal table td.halign-left {
  text-align: left
}

.reveal table th.halign-right, .reveal table td.halign-right {
  text-align: right
}

.reveal table th.halign-center, .reveal table td.halign-center {
  text-align: center
}

.reveal table th.valign-top, .reveal table td.valign-top {
  vertical-align: top
}

.reveal table th.valign-bottom, .reveal table td.valign-bottom {
  vertical-align: bottom
}

.reveal table th.valign-middle, .reveal table td.valign-middle {
  vertical-align: middle
}

table thead th, table tfoot th {
  font-weight: bold
}

tbody tr th {
  display: table-cell;
  line-height: 1.6
}

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p {
  font-weight: bold
}

thead {
  display: table-header-group
}

.reveal table.grid-none th, .reveal table.grid-none td {
  border-bottom: 0 !important
}

/* kbd macro */
kbd {
  font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace;
  display: inline-block;
  color: rgba(0, 0, 0, .8);
  font-size: .65em;
  line-height: 1.45;
  background: #f7f7f7;
  border: 1px solid #ccc;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em white inset;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em #fff inset;
  margin: 0 .15em;
  padding: .2em .5em;
  vertical-align: middle;
  position: relative;
  top: -.1em;
  white-space: nowrap
}

.keyseq kbd:first-child {
  margin-left: 0
}

.keyseq kbd:last-child {
  margin-right: 0
}

/* callouts */
.conum[data-value] {
  display: inline-block;
  color: #fff !important;
  background: rgba(0, 0, 0, .8);
  -webkit-border-radius: 50%;
  border-radius: 50%;
  text-align: center;
  font-size: .75em;
  width: 1.67em;
  height: 1.67em;
  line-height: 1.67em;
  font-family: "Open Sans", "DejaVu Sans", sans-serif;
  font-style: normal;
  font-weight: bold
}

.conum[data-value] * {
  color: #fff !important
}

.conum[data-value] + b {
  display: none
}

.conum[data-value]:after {
  content: attr(data-value)
}

pre .conum[data-value] {
  position: relative;
  top: -.125em
}

b.conum * {
  color: inherit !important
}

.conum:not([data-value]):empty {
  display: none
}

/* Callout list */
.hdlist > table, .colist > table {
  border: 0;
  background: none
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
  background: none
}

td.hdlist1, td.hdlist2 {
  vertical-align: top;
  padding: 0 .625em
}

td.hdlist1 {
  font-weight: bold;
  padding-bottom: 1.25em
}

/* Disabled from Asciidoctor CSS because it caused callout list to go under the
 * source listing when .stretch is applied (see #335)
 * .literalblock+.colist,.listingblock+.colist{margin-top:-.5em} */
.colist td:not([class]):first-child {
  padding: .4em .75em 0;
  line-height: 1;
  vertical-align: top
}

.colist td:not([class]):first-child img {
  max-width: none
}

.colist td:not([class]):last-child {
  padding: .25em 0
}

/* Override Asciidoctor CSS that causes issues with reveal.js features */
.reveal .hljs table {
  border: 0
}

/* Callout list rows would have a bottom border with some reveal.js themes (see #335) */
.reveal .colist > table th, .reveal .colist > table td {
  border-bottom: 0
}

/* Fixes line height with Highlight.js source listing when linenums enabled (see #331) */
.reveal .hljs table thead tr th, .reveal .hljs table tfoot tr th, .reveal .hljs table tbody tr td, .reveal .hljs table tr td, .reveal .hljs table tfoot tr td {
  line-height: inherit
}

/* Columns layout */
.columns .slide-content {
  display: flex;
}

.columns.wrap .slide-content {
  flex-wrap: wrap;
}

.columns.is-vcentered .slide-content {
  align-items: center;
}

.columns .slide-content > .column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
}

.columns .slide-content > .column > * {
  padding: .75rem;
}

/* See #353 */
.columns.wrap .slide-content > .column {
  flex-basis: auto;
}

.columns .slide-content > .column.is-full {
  flex: none;
  width: 100%;
}

.columns .slide-content > .column.is-four-fifths {
  flex: none;
  width: 80%;
}

.columns .slide-content > .column.is-three-quarters {
  flex: none;
  width: 75%;
}

.columns .slide-content > .column.is-two-thirds {
  flex: none;
  width: 66.6666%;
}

.columns .slide-content > .column.is-three-fifths {
  flex: none;
  width: 60%;
}

.columns .slide-content > .column.is-half {
  flex: none;
  width: 50%;
}

.columns .slide-content > .column.is-two-fifths {
  flex: none;
  width: 40%;
}

.columns .slide-content > .column.is-one-third {
  flex: none;
  width: 33.3333%;
}

.columns .slide-content > .column.is-one-quarter {
  flex: none;
  width: 25%;
}

.columns .slide-content > .column.is-one-fifth {
  flex: none;
  width: 20%;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.text-left {
  text-align: left !important
}

.text-right {
  text-align: right !important
}

.text-center {
  text-align: center !important
}

.text-justify {
  text-align: justify !important
}

.footnotes {
  border-top: 1px solid rgba(0, 0, 0, 0.2);
  padding: 0.5em 0 0 0;
  font-size: 0.65em;
  margin-top: 4em;
}

.byline {
  font-size:.8em
}
ul.byline {
  list-style-type: none;
}
ul.byline li + li {
  margin-top: 0.25em;
}
</style><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/v4-shims.min.css"></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>C4 and UML Notations</h1><p class="byline">
  <span class="author">Marcel Baumann (tangly llc)</span>
  </p></section><section id="_agenda"><h2>Agenda</h2><div class="slide-content"><div class="ulist"><ul><li><p>Object orientation</p></li><li><p>UML</p></li><li><p>C4</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>This slide deck is licensed under Attribution 4.0 International (CC BY 4.0).
The attribution is <a href="https://blog.tangly.net/">tangly llc</a>.</p></div>
<div class="paragraph"><p>Additional slide decks can be found under <a href="https://blog.tangly.net/ideas/learnings/workshops/">Workshops</a>.</p></div></aside></div></section>
<section><section id="_object_orientation" class="lightbg" data-background-image="pics/oo-concepts.png" data-background-size="60%" data-background-opacity="0.25"><h2>Object-Orientation</h2><div class="slide-content"><div class="paragraph"><p>Object-orientation rules the software world.</p></div><div class="paragraph"><p>The programming languagues C&#43;&#43;, Java, C#, Python, Typescript, Ruby, Switft, Rust includes object-orientation features.</p></div></div></section><section id="_what_is_an_object"><h2>What is an Object?</h2><div class="slide-content"><div class="paragraph"><p>An <strong>object</strong> has three capabilities:</p></div>
<div class="ulist"><ul><li><p>Identity <em>is unique in the system</em></p></li><li><p>State <em>is composed of attributes</em></p></li><li><p>Behavior <em>is defined with methods</em></p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>An object shall represent a physical instance or a clear abstraction.</p></div></aside></div></section><section id="_what_is_a_class"><h2>What is a Class?</h2><div class="slide-content"><div class="ulist"><ul><li><p>A <strong>class</strong> is a template for a set objects.<br>
It defines the available attributes and their type.<br>
It declares the behavior of the objects.</p></li><li><p>An <strong>interface</strong> is a behavior template.</p></li><li><p>An <strong>abstract class</strong> defines state and behavor.
It cannot have instances.</p></li><li><p>Primitive types have no identity.</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Primitive objects are equivalent if they have the same attributes.
You cannot distinguished multiple equivalent primitives objects.</p></div>
<div class="paragraph"><p>Two objects can always be distinguished through their identities.</p></div></aside></div></section><section id="_advanced_approaches"><h2>Advanced Approaches</h2><div class="slide-content"><div class="ulist"><ul><li><p>Templates are classes with generic types and constants.</p></li><li><p>Mixins are a kind of interfaces or abstract classes.
They codify an orthogonal abstraction.</p></li></ul></div></div></section></section>
<section><section id="_why_do_you_model"><h2>Why Do You Model?</h2><div class="slide-content"><div class="ulist"><ul><li><p>Designing is an activity</p></li><li><p>A design represents an artifact representing some findings.
This artifact is obsolete when you continue designing.</p></li><li><p>The model codifies your findings and partially describes the implementation.</p></li></ul></div><aside class="notes"><div class="paragraph"><p>The primary value is communication and understanding.
You can sketch, blueprint and program with UML.</p></div>
<div class="paragraph"><p>Sketching is active (forward to, and backward from the code).
Blueprinting is dubious.
Programming approach is dead (MDA is obsolete).</p></div></aside></div></section><section id="_software_design_principles"><h2>Software Design Principles</h2><div class="slide-content"><div class="ulist"><ul><li><p>Modularity</p></li><li><p>Cohesion</p></li><li><p>Separation of concerns</p></li><li><p>Information hiding</p></li><li><p>Abstraction</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>These concepts are discussed and applied since the sixties in the last century.
They are implied in any good object-oriented design.</p></div></aside></div></section><section id="_idioms" class="lightbg columns" data-background-opacity="0.2"><h2>Idioms</h2><div class="slide-content"><div class="openblock column is-three-fifths"><div class="content"><div class="paragraph"><p>The design is constrained by</p></div>
<div class="ulist"><ul><li><p>The technology stack</p></li><li><p>The team capabilities</p></li><li><p>The non-functional requirements</p></li></ul></div></div></div>
<aside class="notes"><div class="paragraph"><p>It is a fallacy to pretend that your solution is independent of the technology stack and programming language.
The design shall follow the programmatic idioms and build on the strength of the selected technology stack.</p></div></aside>
<div class="imageblock column"><img src="pics/architecture-constraints.png" alt="architecture constraints"></div></div></section><section id="_functional_approaches"><h2>Functional Approaches</h2><div class="slide-content"><div class="ulist"><ul><li><p>Functions are first-class citizens</p></li><li><p>Functions can be variables, parameters, and return values</p></li></ul></div>
<div class="paragraph"><p>Design patterns such as the visitor, strategy or factory pattern are easily implemented with functions.</p></div></div></section><section id="_uml_and_c4"><h2>UML and C4</h2><div class="slide-content"><div class="ulist"><ul><li><p><a href="https://en.wikipedia.org/wiki/Unified_Modeling_Language">UML</a> is the modeling approach for object-orirented systems originating in the eighties</p></li><li><p><a href="https://c4model.com/">C4 Model</a> is a simplification to the exploding complexity of UML 2.5</p></li><li><p>Choose the tools empowering you to create the optimal design for your product</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>The standardization of UML was around 1995.</p></div></aside></div></section><section id="_uml_diagram_types"><h2>UML Diagram Types</h2><div class="slide-content"><div class="imageblock"><img src="pics/uml-diagram-types.jpg" alt="uml diagram types"></div>
<aside class="notes"><div class="paragraph"><p>Structure diagrams show the things in the modeled system.
In a more technical term, they show different objects in a system.
Behavioral diagrams show what should happen in a system.
They describe how the objects interact with each other to create a functioning system.</p></div>
<div class="paragraph"><p>I use</p></div>
<div class="dlist"><dl><dt class="hdlist1">Structure Diagrams</dt><dd><p>class diagram, sometimes the component diagram</p></dd><dt class="hdlist1">Behavior Diagras</dt><dd><p>state machine diagram, sequence diagram, sometimes the communication diagram</p></dd></dl></div>
<div class="paragraph"><p>I prefer</p></div>
<div class="ulist"><ul><li><p>Customer journeys over use case diagram</p></li><li><p>Textual descriptions over deployment diagram or package diagram</p></li></ul></div></aside></div></section></section>
<section><section id="_class_diagram"><h2>Class Diagram</h2><div class="slide-content"><div class="imageblock"><img src="pics/uml-class-diagram.svg" alt="uml class diagram"></div></div></section><section id="_relations"><h2>Relations</h2><div class="slide-content"><div class="ulist"><ul><li><p>Associations <em>shows a dependency between two class</em></p></li><li><p>Inheritance <em>extends a class</em></p></li><li><p>Realization <em>implements an interface</em></p></li><li><p>Dependency <em>uses a class</em></p></li><li><p>Aggregation <em>instance has other objects</em></p></li><li><p>Composition <em>lifecycle is the same</em></p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Avoid bidirectional associations.
Dependencies can have keywords to refine them: call, create, derive, instantiate, permit, realize, refine, substitute, trace, use.</p></div></aside></div></section><section id="_properties_and_methods"><h2>Properties and Methods</h2><div class="slide-content"><div class="ulist"><ul><li><p>Properties define the state of an object</p></li><li><p>Methods define the behavior of an object</p></li></ul></div>
<div class="paragraph"><p>A big chunk of the source code is the implementation of methods.</p></div>
<aside class="notes"><div class="paragraph"><p>Properties are called attributes in UML.</p></div></aside></div></section><section id="_visibility_and_specifiers"><h2>Visibility and Specifiers</h2><div class="slide-content"><div class="ulist"><ul><li><p>private, package-private, protected, public</p></li><li><p>static</p></li><li><p>abstract</p></li><li><p>derived</p></li><li><p>{readonly}</p></li></ul></div></div></section><section id="_advanced_topics" class="columns"><h2>Advanced Topics</h2><div class="slide-content"><div class="ulist column"><ul><li><p>Property default value, cardinality, ordered</p></li><li><p>Association roles</p></li><li><p>Constraints <em>{&#8230;&#8203;}</em></p></li><li><p>Stereotypes</p></li></ul></div>
<div class="ulist column"><ul><li><p>Tags</p></li><li><p>Notes</p></li><li><p>Navigability</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Use notes to specify constraints on class or relations.
If you are a purist, try OCL <em>Object Constraint Language</em>.</p></div>
<div class="paragraph"><p>Reflect on <em>Design by Contract</em> with pre-condition, post-condition, and invariant.</p></div></aside></div></section><section id="_thoughts"><h2>Thoughts</h2><div class="slide-content"><div class="ulist"><ul><li><p>Class diagrams visualize the object-oriented structure of your source code</p></li><li><p>Their value is the abstraction to highlight key concepts</p></li><li><p>Details are available in the source code</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>In general, it is impossible to declare all the details of the source code in class diagrams.
Modern programming languages have too many features and idioms.</p></div></aside></div></section></section>
<section><section id="_component_diagram"><h2>Component Diagram</h2><div class="slide-content"><div class="ulist"><ul><li><p>defines the structure of the architecture in components</p></li><li><p>distribution structure such as libraries and executables</p></li><li><p>source code structure</p></li></ul></div><aside class="notes"><div class="paragraph"><p>A component diagram displays the structural relationship for the components of a software system.
These are mostly used when working with complex systems with many components.
Components communicate with each other using interfaces.
The interfaces are linked using connectors.</p></div>
<div class="paragraph"><p>Java or C++ modules are components.</p></div></aside></div></section><section id="_component_diagram_2"><h2>Component Diagram</h2><div class="slide-content"><div class="imageblock"><img src="pics/uml-component-diagram.svg" alt="uml component diagram"></div></div></section><section id="_thoughts_2"><h2>Thoughts</h2><div class="slide-content"><div class="ulist"><ul><li><p>Provide an overview to highlight your component structure</p></li><li><p>Beware that modern programming languages support a textual representation of this structure</p></li></ul></div></div></section></section>
<section id="_package_diagram"><h2>Package Diagram</h2><div class="slide-content"><div class="ulist"><ul><li><p>structure of source code in package and modules.
You can show your layered architecture with a package diagram.</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>As the name suggests, a package diagram shows the dependencies between different packages in a system.</p></div></aside></div></section>
<section id="_deployment_diagram"><h2>Deployment Diagram</h2><div class="slide-content"><div class="ulist"><ul><li><p>physical distribution of artifacts on nodes, cores, and processes</p></li><li><p>Communication between nodes</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>A deployment diagram shows the hardware of your system and the software in that hardware.
Deployment diagrams are useful when your software solution is deployed across multiple machines with each having a unique configuration.</p></div></aside></div></section>
<section><section id="_object_diagram"><h2>Object Diagram</h2><div class="slide-content"><div class="ulist"><ul><li><p>A set of concrete instances of classes and their relations</p></li><li><p>Sequence diagram</p></li><li><p>Communication diagram</p></li></ul></div><aside class="notes"><div class="paragraph"><p>Object Diagrams, sometimes referred to as Instance diagrams are very similar to class diagrams.
Like class diagrams, they also show the relationship between objects but they use real-world examples.</p></div>
<div class="paragraph"><p>They show what a system will look like at a given time.
Because there is data available in the objects, they are used to explain complex relationships between objects.</p></div>
<div class="paragraph"><p>In UML 1 communication diagrams were called collaboration diagrams.
Communication diagrams are similar to sequence diagrams, but the focus is on messages passed between objects.
The same information can be represented using a sequence diagram and different objects.</p></div></aside></div></section><section id="_sequence_diagram"><h2>Sequence Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/uml-sequence-diagram.svg" alt="uml sequence diagram"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Sequence diagrams in UML show how objects interact with each other and the order those interactions occur.
It is important to note that they show the interactions for a particular scenario.
The processes are represented vertically and interactions are shown as arrows.</p></div></aside></div></section><section id="_advanced_concepts"><h2>Advanced Concepts</h2><div class="slide-content"><div class="ulist"><ul><li><p>Activation frames</p></li><li><p>Synchronous and asynchronous calls</p></li><li><p>Return values</p></li><li><p>Interaction Frames</p></li><li><p>Creation and deletion of instances</p></li></ul></div></div></section></section>
<section><section id="_state_machine_diagram"><h2>State Machine Diagram</h2></section><section id="_rules"><h2>Rules</h2><div class="slide-content"><div class="ulist"><ul><li><p>A state machine is inside a class</p></li><li><p>Events are asynchronous messages</p></li><li><p>Avoid activities and concurrent states</p></li><li><p>Timeout requires a global time provider</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Design your system so that you do not have any concurrent state.</p></div>
<div class="paragraph"><p>Flat state machines can be implemented with a double switch.
Hierarchical state machines require a nested set or at least a table representation if you have no history states.</p></div></aside></div></section><section id="_state_machine_diagram_2"><h2>State Machine Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/uml-state-diagram.svg" alt="uml state diagram"></span></p></div></div></section></section>
<section><section id="_requirements_aspects"><h2>Requirements Aspects</h2><div class="slide-content"><div class="ulist"><ul><li><p>Use case diagram</p></li><li><p>Activity diagram</p></li></ul></div></div></section><section id="_use_case_diagram"><h2>Use Case Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/uml-use-case-diagram.svg" alt="uml use case diagram"></span></p></div>
<aside class="notes"><div class="paragraph"><p>As the most known diagram type of the behavioral UML types, Use case diagrams give a graphic overview of the actors involved in a system, different functions needed by those actors and how these different functions interact.</p></div></aside></div></section><section id="_activity_diagram"><h2>Activity Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/uml-activity-diagram.svg" alt="uml activity diagram"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Activity diagrams represent workflows in a graphical way.
They can be used to describe the business workflow or the operational workflow of any component in a system.</p></div>
<div class="paragraph"><p>I recommend using <a href="https://en.wikipedia.org/wiki/Business_Process_Modeling_Language">BPML</a> <em>Business Process Modelling Language</em> notation to describe workflows.
Agile approaches prefer customer journeys and event storming.</p></div></aside></div></section></section>
<section id="_embedded_considerations"><h2>Embedded Considerations</h2><div class="slide-content"><div class="ulist"><ul><li><p>Heap and Dynamic Object Allocations</p></li><li><p>Threads</p></li><li><p>Interrupt Routines</p></li></ul></div></div></section>
<section><section id="_uml_and_c4_2"><h2>UML and C4</h2><div class="slide-content"><div class="paragraph"><p>The <a href="https://c4model.com/">C4 Model</a>  is:</p></div><div class="olist arabic"><ol class="arabic"><li><p>A set of hierarchical abstractions: software systems <strong>c</strong>ontext, <strong>c</strong>ontainers, <strong>c</strong>omponents, and <strong>c</strong>ode</p></li><li><p>A set of hierarchical diagrams: system context, containers, components, and code</p></li><li><p>Notation and tooling independent</p></li></ol></div><aside class="notes"><div class="paragraph"><p>The C4 model is an easy to learn, developer-friendly approach to software architecture diagramming.
Good software architecture diagrams assist with communication inside/outside of software development/product teams.
It supports efficient onboarding of new staff, architecture reviews, risk identification, threat modeling, etc.</p></div></aside></div></section><section id="_system_context_diagram"><h2>System Context Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/c4-system-context.png" alt="c4 system context"></span></p></div>
<aside class="notes"><div class="paragraph"><p>A System Context diagram is a good starting point for diagramming and documenting a software system, allowing you to step back and see the big picture.
Draw a diagram showing your system as a box in the centre, surrounded by its users and the other systems that it interacts with.</p></div>
<div class="paragraph"><p>Detail is not important here as this is your zoomed-out view showing a big picture of the system landscape.
The focus should be on people (actors, roles, personas, etc) and software systems rather than technologies, protocols and other low-level details.
It&#8217;s the sort of diagram that you could show to non-technical people.</p></div></aside></div></section><section id="_container_diagram"><h2>Container Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/c4-containers.png" alt="c4 containers"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Once you understand how your system fits in to the overall IT environment, a really useful next step is to zoom-in to the system boundary with a Container diagram.
A "container" is something like a server-side web application, single-page application, desktop application, mobile app, database schema, file system, etc.
Essentially, a container is a separately runnable/deployable unit (e.g. a separate process space) that executes code or stores data.</p></div>
<div class="paragraph"><p>The Container diagram shows the high-level shape of the software architecture and how responsibilities are distributed across it.
It also shows the major technology choices and how the containers communicate with one another.
It is a simple, high-level technology focussed diagram that is useful for software developers and support/operations staff alike.</p></div></aside></div></section><section id="_component_diagram_3"><h2>Component Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/c4-components.png" alt="c4 components"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Next you can zoom in and decompose each container further to identify the major structural building blocks and their interactions.</p></div>
<div class="paragraph"><p>The Component diagram shows how a container is made up of a number of "components".
It describes what each of those components is, their responsibilities and the technology/implementation details.</p></div></aside></div></section><section id="_code_diagram"><h2>Code Diagram</h2><div class="slide-content"><div class="paragraph"><p><span class="image"><img src="pics/c4-class-diagram.png" alt="c4 class diagram"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Finally, you can zoom in to each component to show how it is implemented as code; using UML class diagrams, entity relationship diagrams or similar.</p></div>
<div class="paragraph"><p>This is an optional level of detail and is often available on-demand from tooling such as IDEs.
Ideally this diagram would be automatically generated using tooling (e.g. an IDE or UML modelling tool).
You should consider showing only those attributes and methods that allow you to tell the story that you want to tell.
This level of detail is not recommended for anything but the most important or complex components.</p></div></aside></div></section><section id="_advanced_diagrams"><h2>Advanced Diagrams</h2><div class="slide-content"><div class="ulist"><ul><li><p>System Landscape Diagram</p></li><li><p>Dynamic Diagram</p></li><li><p>Deployment Diagram</p></li></ul></div></div></section><section id="_thoughts_3"><h2>Thoughts</h2><div class="slide-content"><div class="paragraph"><p>Although the example diagrams above are created using a <em>boxes and lines</em> notation, the core diagrams can be illustrated using UML.</p></div>
<aside class="notes"><div class="paragraph"><p>The resulting UML diagrams tend to lack the same degree of a descriptive text, because adding such text is not easy with most UML tools.</p></div></aside></div></section></section>
<section id="_discussion" class="lightbg" data-background-image="pics/discussion.png" data-background-size="cover" data-background-opacity="0.5"></section></div></div><script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
});

// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: 'true',
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Add the current slide number to the URL hash so that reloading the
  // page/copying the URL will return you to the same slide
  hash: true,
  // Push each slide change to the browser history. Implies `hash: true`
  history: false,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Disables the default reveal.js slide layout so that you can use custom CSS layout
  disableLayout: false,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // See https://github.com/hakimel/reveal.js/#navigation-mode
  navigationMode: 'default',
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Global override for preloading lazy-loaded iframes
  // - null: Iframes with data-src AND data-preload will be loaded when within
  //   the viewDistance, iframes with only data-src will be loaded when visible
  // - true: All iframes with data-src will be loaded when within the viewDistance
  // - false: All iframes with data-src will be loaded only when visible
  preloadIframes: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Specify the total time in seconds that is available to
  // present.  If this is set to a nonzero value, the pacing
  // timer will work out the time available for each slide,
  // instead of using the defaultTiming value
  totalTime: 0,
  // Specify the minimum amount of time you want to allot to
  // each slide, if using the totalTime calculation method.  If
  // the automated time allocation causes slide pacing to fall
  // below this threshold, then you will see an alert in the
  // speaker notes window
  minimumTimePerSlide: 0,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hide cursor if inactive
  hideInactiveCursor: true,
  // Time before the cursor is hidden (in ms)
  hideCursorTime: 5000,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Number of slides away from the current that are visible on mobile
  // devices. It is advisable to set this to a lower number than
  // viewDistance in order to save resources.
  mobileViewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/zoom/zoom.js', async: true, callback: function () { Reveal.registerPlugin(RevealZoom) } },
      { src: 'https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/notes/notes.js', async: true, callback: function () { Reveal.registerPlugin(RevealNotes) } }
  ],
});</script><script>var dom = {};
dom.slides = document.querySelector('.reveal .slides');

function getRemainingHeight(element, slideElement, height) {
  height = height || 0;
  if (element) {
    var newHeight, oldHeight = element.style.height;
    // Change the .stretch element height to 0 in order find the height of all
    // the other elements
    element.style.height = '0px';
    // In Overview mode, the parent (.slide) height is set of 700px.
    // Restore it temporarily to its natural height.
    slideElement.style.height = 'auto';
    newHeight = height - slideElement.offsetHeight;
    // Restore the old height, just in case
    element.style.height = oldHeight + 'px';
    // Clear the parent (.slide) height. .removeProperty works in IE9+
    slideElement.style.removeProperty('height');
    return newHeight;
  }
  return height;
}

function layoutSlideContents(width, height) {
  // Handle sizing of elements with the 'stretch' class
  toArray(dom.slides.querySelectorAll('section .stretch')).forEach(function (element) {
    // Determine how much vertical space we can use
    var limit = 5; // hard limit
    var parent = element.parentNode;
    while (parent.nodeName !== 'SECTION' && limit > 0) {
      parent = parent.parentNode;
      limit--;
    }
    if (limit === 0) {
      // unable to find parent, aborting!
      return;
    }
    var remainingHeight = getRemainingHeight(element, parent, height);
    // Consider the aspect ratio of media elements
    if (/(img|video)/gi.test(element.nodeName)) {
      var nw = element.naturalWidth || element.videoWidth, nh = element.naturalHeight || element.videoHeight;
      var es = Math.min(width / nw, remainingHeight / nh);
      element.style.width = (nw * es) + 'px';
      element.style.height = (nh * es) + 'px';
    } else {
      element.style.width = width + 'px';
      element.style.height = remainingHeight + 'px';
    }
  });
}

function toArray(o) {
  return Array.prototype.slice.call(o);
}

Reveal.addEventListener('slidechanged', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('ready', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('resize', function () {
  layoutSlideContents(960, 700)
});</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/highlight/monokai.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.3/highlight.min.js"></script>

<script>

/* highlightjs-line-numbers.js 2.6.0 | (C) 2018 Yauheni Pakala | MIT License | github.com/wcoder/highlightjs-line-numbers.js */
/* Edited by Hakim for reveal.js; removed async timeout */
!function(n,e){"use strict";function t(){var n=e.createElement("style");n.type="text/css",n.innerHTML=g(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[v,L,b]),e.getElementsByTagName("head")[0].appendChild(n)}function r(t){"interactive"===e.readyState||"complete"===e.readyState?i(t):n.addEventListener("DOMContentLoaded",function(){i(t)})}function i(t){try{var r=e.querySelectorAll("code.hljs,code.nohighlight");for(var i in r)r.hasOwnProperty(i)&&l(r[i],t)}catch(o){n.console.error("LineNumbers error: ",o)}}function l(n,e){"object"==typeof n&&f(function(){n.innerHTML=s(n,e)})}function o(n,e){if("string"==typeof n){var t=document.createElement("code");return t.innerHTML=n,s(t,e)}}function s(n,e){e=e||{singleLine:!1};var t=e.singleLine?0:1;return c(n),a(n.innerHTML,t)}function a(n,e){var t=u(n);if(""===t[t.length-1].trim()&&t.pop(),t.length>e){for(var r="",i=0,l=t.length;i<l;i++)r+=g('<tr><td class="{0}"><div class="{1} {2}" {3}="{5}"></div></td><td class="{4}"><div class="{1}">{6}</div></td></tr>',[j,m,L,b,p,i+1,t[i].length>0?t[i]:" "]);return g('<table class="{0}">{1}</table>',[v,r])}return n}function c(n){var e=n.childNodes;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];h(r.textContent)>0&&(r.childNodes.length>0?c(r):d(r.parentNode))}}function d(n){var e=n.className;if(/hljs-/.test(e)){for(var t=u(n.innerHTML),r=0,i="";r<t.length;r++){var l=t[r].length>0?t[r]:" ";i+=g('<span class="{0}">{1}</span>\n',[e,l])}n.innerHTML=i.trim()}}function u(n){return 0===n.length?[]:n.split(y)}function h(n){return(n.trim().match(y)||[]).length}function f(e){e()}function g(n,e){return n.replace(/{(\d+)}/g,function(n,t){return e[t]?e[t]:n})}var v="hljs-ln",m="hljs-ln-line",p="hljs-ln-code",j="hljs-ln-numbers",L="hljs-ln-n",b="data-line-number",y=/\r\n|\r|\n/g;n.hljs?(n.hljs.initLineNumbersOnLoad=r,n.hljs.lineNumbersBlock=l,n.hljs.lineNumbersValue=o,t()):n.console.error("highlight.js not detected!")}(window,document);

/**
 * This reveal.js plugin is wrapper around the highlight.js
 * syntax highlighting library.
 */
(function( root, factory ) {
  if (typeof define === 'function' && define.amd) {
    root.RevealHighlight = factory();
  } else if( typeof exports === 'object' ) {
    module.exports = factory();
  } else {
    // Browser globals (root is window)
    root.RevealHighlight = factory();
  }
}( this, function() {

  // Function to perform a better "data-trim" on code snippets
  // Will slice an indentation amount on each line of the snippet (amount based on the line having the lowest indentation length)
  function betterTrim(snippetEl) {
    // Helper functions
    function trimLeft(val) {
      // Adapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim#Polyfill
      return val.replace(/^[\s\uFEFF\xA0]+/g, '');
    }
    function trimLineBreaks(input) {
      var lines = input.split('\n');

      // Trim line-breaks from the beginning
      for (var i = 0; i < lines.length; i++) {
        if (lines[i].trim() === '') {
          lines.splice(i--, 1);
        } else break;
      }

      // Trim line-breaks from the end
      for (var i = lines.length-1; i >= 0; i--) {
        if (lines[i].trim() === '') {
          lines.splice(i, 1);
        } else break;
      }

      return lines.join('\n');
    }

    // Main function for betterTrim()
    return (function(snippetEl) {
      var content = trimLineBreaks(snippetEl.innerHTML);
      var lines = content.split('\n');
      // Calculate the minimum amount to remove on each line start of the snippet (can be 0)
      var pad = lines.reduce(function(acc, line) {
        if (line.length > 0 && trimLeft(line).length > 0 && acc > line.length - trimLeft(line).length) {
          return line.length - trimLeft(line).length;
        }
        return acc;
      }, Number.POSITIVE_INFINITY);
      // Slice each line with this amount
      return lines.map(function(line, index) {
        return line.slice(pad);
      })
        .join('\n');
    })(snippetEl);
  }

  var RevealHighlight = {

    HIGHLIGHT_STEP_DELIMITER: '|',
    HIGHLIGHT_LINE_DELIMITER: ',',
    HIGHLIGHT_LINE_RANGE_DELIMITER: '-',

    init: function( reveal ) {

      // Read the plugin config options and provide fallbacks
      var config = Reveal.getConfig().highlight || {};
      config.highlightOnLoad = typeof config.highlightOnLoad === 'boolean' ? config.highlightOnLoad : true;
      config.escapeHTML = typeof config.escapeHTML === 'boolean' ? config.escapeHTML : true;

      [].slice.call( reveal.getRevealElement().querySelectorAll( 'pre code' ) ).forEach( function( block ) {

        block.parentNode.className = 'code-wrapper';

        // Code can optionally be wrapped in script template to avoid
        // HTML being parsed by the browser (i.e. when you need to
        // include <, > or & in your code).
        let substitute = block.querySelector( 'script[type="text/template"]' );
        if( substitute ) {
          // textContent handles the HTML entity escapes for us
          block.textContent = substitute.innerHTML;
        }

        // Trim whitespace if the "data-trim" attribute is present
        if( block.hasAttribute( 'data-trim' ) && typeof block.innerHTML.trim === 'function' ) {
          block.innerHTML = betterTrim( block );
        }

        // Escape HTML tags unless the "data-noescape" attrbute is present
        if( config.escapeHTML && !block.hasAttribute( 'data-noescape' )) {
          block.innerHTML = block.innerHTML.replace( /</g,"&lt;").replace(/>/g, '&gt;' );
        }

        // Re-highlight when focus is lost (for contenteditable code)
        block.addEventListener( 'focusout', function( event ) {
          hljs.highlightElement( event.currentTarget );
        }, false );

        if( config.highlightOnLoad ) {
          RevealHighlight.highlightBlock( block );
        }
      } );

      // If we're printing to PDF, scroll the code highlights of
      // all blocks in the deck into view at once
      reveal.on( 'pdf-ready', function() {
        [].slice.call( reveal.getRevealElement().querySelectorAll( 'pre code[data-line-numbers].current-fragment' ) ).forEach( function( block ) {
          RevealHighlight.scrollHighlightedLineIntoView( block, {}, true );
        } );
      } );
    },

    /**
     * Highlights a code block. If the <code> node has the
     * 'data-line-numbers' attribute we also generate slide
     * numbers.
     *
     * If the block contains multiple line highlight steps,
     * we clone the block and create a fragment for each step.
     */
    highlightBlock: function( block ) {

      hljs.highlightElement( block );

      // Don't generate line numbers for empty code blocks
      if( block.innerHTML.trim().length === 0 ) return;

      if( block.hasAttribute( 'data-line-numbers' ) ) {
        hljs.lineNumbersBlock( block, { singleLine: true } );

        var scrollState = { currentBlock: block };

        // If there is at least one highlight step, generate
        // fragments
        var highlightSteps = RevealHighlight.deserializeHighlightSteps( block.getAttribute( 'data-line-numbers' ) );
        if( highlightSteps.length > 1 ) {

          // If the original code block has a fragment-index,
          // each clone should follow in an incremental sequence
          var fragmentIndex = parseInt( block.getAttribute( 'data-fragment-index' ), 10 );

          if( typeof fragmentIndex !== 'number' || isNaN( fragmentIndex ) ) {
            fragmentIndex = null;
          }

          // Generate fragments for all steps except the original block
          highlightSteps.slice(1).forEach( function( highlight ) {

            var fragmentBlock = block.cloneNode( true );
            fragmentBlock.setAttribute( 'data-line-numbers', RevealHighlight.serializeHighlightSteps( [ highlight ] ) );
            fragmentBlock.classList.add( 'fragment' );
            block.parentNode.appendChild( fragmentBlock );
            RevealHighlight.highlightLines( fragmentBlock );

            if( typeof fragmentIndex === 'number' ) {
              fragmentBlock.setAttribute( 'data-fragment-index', fragmentIndex );
              fragmentIndex += 1;
            }
            else {
              fragmentBlock.removeAttribute( 'data-fragment-index' );
            }

            // Scroll highlights into view as we step through them
            fragmentBlock.addEventListener( 'visible', RevealHighlight.scrollHighlightedLineIntoView.bind( Plugin, fragmentBlock, scrollState ) );
            fragmentBlock.addEventListener( 'hidden', RevealHighlight.scrollHighlightedLineIntoView.bind( Plugin, fragmentBlock.previousSibling, scrollState ) );

          } );

          block.removeAttribute( 'data-fragment-index' )
          block.setAttribute( 'data-line-numbers', RevealHighlight.serializeHighlightSteps( [ highlightSteps[0] ] ) );

        }

        // Scroll the first highlight into view when the slide
        // becomes visible. Note supported in IE11 since it lacks
        // support for Element.closest.
        var slide = typeof block.closest === 'function' ? block.closest( 'section:not(.stack)' ) : null;
        if( slide ) {
          var scrollFirstHighlightIntoView = function() {
            RevealHighlight.scrollHighlightedLineIntoView( block, scrollState, true );
            slide.removeEventListener( 'visible', scrollFirstHighlightIntoView );
          }
          slide.addEventListener( 'visible', scrollFirstHighlightIntoView );
        }

        RevealHighlight.highlightLines( block );

      }

    },

    /**
     * Animates scrolling to the first highlighted line
     * in the given code block.
     */
    scrollHighlightedLineIntoView: function( block, scrollState, skipAnimation ) {

      cancelAnimationFrame( scrollState.animationFrameID );

      // Match the scroll position of the currently visible
      // code block
      if( scrollState.currentBlock ) {
        block.scrollTop = scrollState.currentBlock.scrollTop;
      }

      // Remember the current code block so that we can match
      // its scroll position when showing/hiding fragments
      scrollState.currentBlock = block;

      var highlightBounds = RevealHighlight.getHighlightedLineBounds( block )
      var viewportHeight = block.offsetHeight;

      // Subtract padding from the viewport height
      var blockStyles = getComputedStyle( block );
      viewportHeight -= parseInt( blockStyles.paddingTop ) + parseInt( blockStyles.paddingBottom );

      // Scroll position which centers all highlights
      var startTop = block.scrollTop;
      var targetTop = highlightBounds.top + ( Math.min( highlightBounds.bottom - highlightBounds.top, viewportHeight ) - viewportHeight ) / 2;

      // Account for offsets in position applied to the
      // <table> that holds our lines of code
      var lineTable = block.querySelector( '.hljs-ln' );
      if( lineTable ) targetTop += lineTable.offsetTop - parseInt( blockStyles.paddingTop );

      // Make sure the scroll target is within bounds
      targetTop = Math.max( Math.min( targetTop, block.scrollHeight - viewportHeight ), 0 );

      if( skipAnimation === true || startTop === targetTop ) {
        block.scrollTop = targetTop;
      }
      else {

        // Don't attempt to scroll if there is no overflow
        if( block.scrollHeight <= viewportHeight ) return;

        var time = 0;
        var animate = function() {
          time = Math.min( time + 0.02, 1 );

          // Update our eased scroll position
          block.scrollTop = startTop + ( targetTop - startTop ) * RevealHighlight.easeInOutQuart( time );

          // Keep animating unless we've reached the end
          if( time < 1 ) {
            scrollState.animationFrameID = requestAnimationFrame( animate );
          }
        };

        animate();

      }

    },

    /**
     * The easing function used when scrolling.
     */
    easeInOutQuart: function( t ) {

      // easeInOutQuart
      return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t;

    },

    getHighlightedLineBounds: function( block ) {

      var highlightedLines = block.querySelectorAll( '.highlight-line' );
      if( highlightedLines.length === 0 ) {
        return { top: 0, bottom: 0 };
      }
      else {
        var firstHighlight = highlightedLines[0];
        var lastHighlight = highlightedLines[ highlightedLines.length -1 ];

        return {
          top: firstHighlight.offsetTop,
          bottom: lastHighlight.offsetTop + lastHighlight.offsetHeight
        }
      }

    },

    /**
     * Visually emphasize specific lines within a code block.
     * This only works on blocks with line numbering turned on.
     *
     * @param {HTMLElement} block a <code> block
     * @param {String} [linesToHighlight] The lines that should be
     * highlighted in this format:
     * "1" 		= highlights line 1
     * "2,5"	= highlights lines 2 & 5
     * "2,5-7"	= highlights lines 2, 5, 6 & 7
     */
    highlightLines: function( block, linesToHighlight ) {

      var highlightSteps = RevealHighlight.deserializeHighlightSteps( linesToHighlight || block.getAttribute( 'data-line-numbers' ) );

      if( highlightSteps.length ) {

        highlightSteps[0].forEach( function( highlight ) {

          var elementsToHighlight = [];

          // Highlight a range
          if( typeof highlight.end === 'number' ) {
            elementsToHighlight = [].slice.call( block.querySelectorAll( 'table tr:nth-child(n+'+highlight.start+'):nth-child(-n+'+highlight.end+')' ) );
          }
          // Highlight a single line
          else if( typeof highlight.start === 'number' ) {
            elementsToHighlight = [].slice.call( block.querySelectorAll( 'table tr:nth-child('+highlight.start+')' ) );
          }

          if( elementsToHighlight.length ) {
            elementsToHighlight.forEach( function( lineElement ) {
              lineElement.classList.add( 'highlight-line' );
            } );

            block.classList.add( 'has-highlights' );
          }

        } );

      }

    },

    /**
     * Parses and formats a user-defined string of line
     * numbers to highlight.
     *
     * @example
     * RevealHighlight.deserializeHighlightSteps( '1,2|3,5-10' )
     * // [
     * //   [ { start: 1 }, { start: 2 } ],
     * //   [ { start: 3 }, { start: 5, end: 10 } ]
     * // ]
     */
    deserializeHighlightSteps: function( highlightSteps ) {

      // Remove whitespace
      highlightSteps = highlightSteps.replace( /\s/g, '' );

      // Divide up our line number groups
      highlightSteps = highlightSteps.split( RevealHighlight.HIGHLIGHT_STEP_DELIMITER );

      return highlightSteps.map( function( highlights ) {

        return highlights.split( RevealHighlight.HIGHLIGHT_LINE_DELIMITER ).map( function( highlight ) {

          // Parse valid line numbers
          if( /^[\d-]+$/.test( highlight ) ) {

            highlight = highlight.split( RevealHighlight.HIGHLIGHT_LINE_RANGE_DELIMITER );

            var lineStart = parseInt( highlight[0], 10 ),
              lineEnd = parseInt( highlight[1], 10 );

            if( isNaN( lineEnd ) ) {
              return {
                start: lineStart
              };
            }
            else {
              return {
                start: lineStart,
                end: lineEnd
              };
            }

          }
          // If no line numbers are provided, no code will be highlighted
          else {

            return {};

          }

        } );

      } );

    },

    /**
     * Serializes parsed line number data into a string so
     * that we can store it in the DOM.
     */
    serializeHighlightSteps: function( highlightSteps ) {

      return highlightSteps.map( function( highlights ) {

        return highlights.map( function( highlight ) {

          // Line range
          if( typeof highlight.end === 'number' ) {
            return highlight.start + RevealHighlight.HIGHLIGHT_LINE_RANGE_DELIMITER + highlight.end;
          }
          // Single line
          else if( typeof highlight.start === 'number' ) {
            return highlight.start;
          }
          // All lines
          else {
            return '';
          }

        } ).join( RevealHighlight.HIGHLIGHT_LINE_DELIMITER );

      } ).join( RevealHighlight.HIGHLIGHT_STEP_DELIMITER );

    }

  }

  Reveal.registerPlugin( 'highlight', RevealHighlight );

  return RevealHighlight;

}));
        
hljs.configure({
  ignoreUnescapedHTML: true,
});
hljs.highlightAll();
</script></body></html>